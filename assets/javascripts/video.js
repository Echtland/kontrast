(function(){this.VideoView=Backbone.View.extend({el:"#bgVideo",events:{"click .play":"openVideo"},initialize:function(){return this.el?(this.initBackground(),this.ratio=.419,this.video=this.$(".video"),this.iframe=this.video.find("iframe"),this.originalHeight=this.$el.height(),this.closeBtn=this.$(".fa-times").on("click",this.closeVideo.bind(this)),this.resizeVideo(),$(window).on("resize",this.resizeVideo.bind(this))):void 0},initBackground:function(){return this.$el.vide({mp4:this.el.dataset.video},{volume:0,playbackRate:.5,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"jpg",resizing:!0})},resizeVideo:function(){var i,t;return t=this.iframe.parent().width(),i=t*this.ratio,this.iframe.attr("height",i+"px"),this.video.is(":visible")?this.$el.animate({"min-height":i,height:i}):void 0},openVideo:function(){var i,t;return t=this.iframe.parent().width(),i=t*this.ratio,this.$el.animate({"min-height":i,height:i},"slow",function(i){return function(){return i.video.show().animateCss("fadeIn"),i.post("play"),i.closeBtn.show()}}(this)),$("html, body").animate({scrollTop:0})},closeVideo:function(){return this.$el.animate({"min-height":this.originalHeight,height:this.originalHeight},"slow",function(i){return function(){return i.video.queue(function(){return $(this).animateCss("fadeOut")}).hide(),i.closeBtn.animateCss("fadeOut"),i.post("unload")}}(this))},triggerPlay:function(){var i;return i=this.video.find("iframe")[0]},post:function(i,t){var e,n;return e={method:i},t&&(e.value=t),n=JSON.stringify(e),this.iframe[0].contentWindow.postMessage(e,"*")}})}).call(this);